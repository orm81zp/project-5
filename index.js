import{r as J,A as C,a as K,b as B,g as D,c as Q}from"./assets/main-BND-myr-.js";import{i as V}from"./assets/vendor-DvC1QdLM.js";const b={error:"error",success:"success"},X={[b.error]:{backgroundColor:"#EF4040",messageColor:"#FFFFFF"},[b.success]:{backgroundColor:"#59A10D",messageColor:"#FFFFFF"}},y=(l,c=b.error)=>{V.show({...X[c],message:l,messageSize:"16px",position:"topRight",maxWidth:380})};(()=>{const l="hidden",c={muscles:"Muscles",bodyParts:"Body parts",equipment:"Equipment"},S=c.muscles,N={[c.muscles]:"muscles",[c.bodyParts]:"bodypart",[c.equipment]:"equipment"},t={filter:null,exercise:null,keyword:"",pagination:{filters:{currentPage:1,totalPages:1,limit:12},exercises:{currentPage:1,totalPages:1,limit:10}}},h=document.getElementById("breadcrumbs-nav"),R=h.querySelector(".item-home"),x=document.getElementById("breadcrumbs-filters"),u=document.querySelector(".exercises"),P=u.querySelector(".cards"),I=u.querySelector(".cards-exercises"),d=document.getElementById("search-field"),q=d.querySelector(".search-form"),F=d.querySelector(".search-input"),M=d.querySelector(".seach-submit"),T=d.querySelector(".seach-reset"),L=u.querySelector(".pagination"),k=()=>{window.innerWidth<768&&(t.pagination.filters.limit=9,t.pagination.exercises.limit=8)},g=(e=!1)=>{if(e){const r=u.querySelector(".loader");r&&r.remove()}else u.insertAdjacentHTML("beforeend",'<div class="loader"></div>')},E=(e=!1)=>{e?T.classList.add(l):T.classList.remove(l)},w=(e=!1,r=!1)=>{e?d.classList.add(l):d.classList.remove(l),r&&(F.value="")},H=()=>{P.innerHTML="",I.innerHTML=""},W=()=>{const e=h.querySelector(".item-exercise");e.removeAttribute("title"),e.classList.remove("active"),e.innerText=""},_=e=>{const r=h.querySelector(".item-exercise");r.setAttribute("title",e),r.classList.add("active"),r.innerText=e},m=async(e,r,s="")=>{try{H(),g(),_(r);const{limit:a,currentPage:i}=t.pagination.exercises,n={[N[e]]:r,keyword:s,limit:a,page:i},v=await C.getExercises(n),{results:f,totalPages:o,perPage:Y}=v;if(t.exercise=r,t.keyword=s,f.length===0){y("Sorry, there are no matching your request. Please try again!");return}t.pagination.exercises.totalPages=parseInt(o),t.pagination.exercises.currentPage=i+1,t.pagination.exercises.limit=parseInt(Y),Q(f,I),B(L,o,i),i>o&&y("We're sorry, but you've reached the end of results.")}catch(a){console.error(a)}finally{g(!0),w()}},p=async e=>{try{H(),W(),g(),w(!0,!0);const{limit:r,currentPage:s}=t.pagination.filters,a=await C.getFilters({filter:e,limit:r,page:s}),{results:i,totalPages:n,perPage:v}=a;if(t.filter=e,t.exercise=null,i.length===0){y("Sorry, there are no matching your request. Please try again!");return}t.pagination.filters.totalPages=parseInt(n),t.pagination.filters.currentPage=s+1,t.pagination.filters.limit=parseInt(v),K(i,P),B(L,n,s),s>n&&y("We're sorry, but you've reached the end of results.");const f=x.querySelectorAll(".item");for(let o of f)o.innerText===e?o.classList.add("active"):o.classList.remove("active")}catch(r){console.error(r)}finally{g(!0)}},j=e=>{if(e.preventDefault(),!(e.target.className&&e.target.className.includes("filter-link")))return;const s=e.target.innerText.trim();t.pagination.filters.currentPage=1,t.pagination.exercises.currentPage=1,p(s)};x.addEventListener("click",j);const O=e=>{e.preventDefault();const{filter:r}=t,s=D(e.target,".card-item");if(s&&s.dataset&&s.dataset.exercise){const a=s.dataset.exercise.trim();t.pagination.filters.currentPage=1,t.pagination.exercises.currentPage=1,m(r,a)}};P.addEventListener("click",O);const A=e=>{e.preventDefault();const{filter:r,exercise:s}=t,a=F.value.trim();a&&m(r,s,a)},z=()=>{E(!0);const{filter:e,exercise:r}=t;m(e,r)};M.addEventListener("click",A),q.addEventListener("submit",A),q.addEventListener("reset",z);const G=e=>{e.target.value.trim()?E():E(!0)};F.addEventListener("input",G);const U=e=>{e.preventDefault();const r=D(e.target,".list-item");if(r&&r.dataset.page){const{filter:s,exercise:a,keyword:i}=t,n=parseInt(r.dataset.page);a?(t.pagination.filters.currentPage=1,t.pagination.exercises.currentPage=n,m(s,a,i)):(t.pagination.exercises.currentPage=1,t.pagination.filters.currentPage=n,p(s))}};L.addEventListener("click",U),R.addEventListener("click",()=>{t.pagination.filters.currentPage=1,t.pagination.exercises.currentPage=1,p(S)}),window.matchMedia("(max-width: 767px)").addEventListener("change",e=>{k()}),k(),J(Object.values(c),x),p(S)})();
//# sourceMappingURL=index.js.map
