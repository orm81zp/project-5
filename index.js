import{r as J,A,a as K,b as C,g as B,c as Q}from"./assets/main-DgNj_paR.js";import{i as V}from"./assets/vendor-DvC1QdLM.js";const v={error:"error",success:"success"},X={[v.error]:{backgroundColor:"#EF4040",messageColor:"#FFFFFF"},[v.success]:{backgroundColor:"#59A10D",messageColor:"#FFFFFF"}},D=(o,n=v.error)=>{V.show({...X[n],message:o,messageSize:"16px",position:"topRight",maxWidth:380})};(()=>{const o="hidden",n={muscles:"Muscles",bodyParts:"Body parts",equipment:"Equipment"},b=n.muscles,M={[n.muscles]:"muscles",[n.bodyParts]:"bodypart",[n.equipment]:"equipment"},t={filter:null,exercise:null,keyword:"",pagination:{filters:{currentPage:1,totalPages:1,limit:12},exercises:{currentPage:1,totalPages:1,limit:10}}},x=document.getElementById("breadcrumbs-nav"),N=x.querySelector(".item-home"),h=document.getElementById("breadcrumbs-filters"),u=document.querySelector(".exercises"),L=u.querySelector(".cards"),S=u.querySelector(".cards-exercises"),l=document.getElementById("search-field"),I=l.querySelector(".search-form"),P=l.querySelector(".search-input"),R=l.querySelector(".seach-submit"),T=l.querySelector(".seach-reset"),g=u.querySelector(".pagination"),q=()=>{window.innerWidth<768&&(t.pagination.filters.limit=9,t.pagination.exercises.limit=8)},m=(e=!1)=>{if(e){const r=u.querySelector(".loader");r&&r.remove()}else u.insertAdjacentHTML("beforeend",'<div class="loader"></div>')},F=(e=!1)=>{e?T.classList.add(o):T.classList.remove(o)},k=(e=!1,r=!1)=>{e?l.classList.add(o):l.classList.remove(o),r&&(P.value="")},H=()=>{L.innerHTML="",S.innerHTML=""},_=()=>{const e=x.querySelector(".item-exercise");e.removeAttribute("title"),e.classList.remove("active"),e.innerText=""},j=e=>{const r=x.querySelector(".item-exercise");r.setAttribute("title",e),r.classList.add("active"),r.innerText=e},p=async(e,r,s="")=>{try{H(),m(),j(r),g.innerHTML="";const{limit:a,currentPage:i}=t.pagination.exercises,c={[M[e]]:r,keyword:s,limit:a,page:i},E=await A.getExercises(c),{results:y,totalPages:d,perPage:Y}=E;if(t.exercise=r,t.keyword=s,s&&y.length===0){D("Sorry, there are no matching your request. Please try again!");return}t.pagination.exercises.totalPages=parseInt(d),t.pagination.exercises.currentPage=i+1,t.pagination.exercises.limit=parseInt(Y),Q(y,S),C(g,d,i)}catch(a){console.error(a)}finally{m(!0),k()}},f=async e=>{try{H(),_(),m(),k(!0,!0),g.innerHTML="";const{limit:r,currentPage:s}=t.pagination.filters,a=await A.getFilters({filter:e,limit:r,page:s}),{results:i,totalPages:c,perPage:E}=a;if(t.filter=e,t.exercise=null,i.length===0){D("Sorry, there are no matching your request. Please try again!");return}t.pagination.filters.totalPages=parseInt(c),t.pagination.filters.currentPage=s+1,t.pagination.filters.limit=parseInt(E),K(i,L),C(g,c,s);const y=h.querySelectorAll(".item");for(let d of y)d.innerText===e?d.classList.add("active"):d.classList.remove("active")}catch(r){console.error(r)}finally{m(!0)}},O=e=>{if(e.preventDefault(),!(e.target.className&&e.target.className.includes("filter-link")))return;const s=e.target.innerText.trim();t.pagination.filters.currentPage=1,t.pagination.exercises.currentPage=1,f(s)};h.addEventListener("click",O);const W=e=>{e.preventDefault();const{filter:r}=t,s=B(e.target,".card-item");if(s&&s.dataset&&s.dataset.exercise){const a=s.dataset.exercise.trim();t.pagination.filters.currentPage=1,t.pagination.exercises.currentPage=1,p(r,a)}};L.addEventListener("click",W);const w=e=>{e.preventDefault();const{filter:r,exercise:s}=t,a=P.value.trim();a&&p(r,s,a)},z=()=>{F(!0);const{filter:e,exercise:r}=t;p(e,r)};R.addEventListener("click",w),I.addEventListener("submit",w),I.addEventListener("reset",z);const G=e=>{e.target.value.trim()?F():F(!0)};P.addEventListener("input",G);const U=e=>{e.preventDefault();const r=B(e.target,".list-item");if(r&&r.dataset.page){const{filter:s,exercise:a,keyword:i}=t,c=parseInt(r.dataset.page);a?(t.pagination.filters.currentPage=1,t.pagination.exercises.currentPage=c,p(s,a,i)):(t.pagination.exercises.currentPage=1,t.pagination.filters.currentPage=c,f(s))}};g.addEventListener("click",U),N.addEventListener("click",e=>{e.preventDefault(),t.pagination.filters.currentPage=1,t.pagination.exercises.currentPage=1,f(b)}),window.matchMedia("(max-width: 767px)").addEventListener("change",e=>{q()}),q(),J(Object.values(n),h),f(b)})();
//# sourceMappingURL=index.js.map
