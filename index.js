import{r as J,A as C,a as K,b as B,g as D,c as Q}from"./assets/main-8pAcCHB5.js";import{i as V}from"./assets/vendor-DvC1QdLM.js";const P={error:"error",success:"success"},X={[P.error]:{backgroundColor:"#EF4040",messageColor:"#FFFFFF"},[P.success]:{backgroundColor:"#59A10D",messageColor:"#FFFFFF"}},y=(l,c=P.error)=>{V.show({...X[c],message:l,messageSize:"16px",position:"topRight",maxWidth:380})};(()=>{const l="hidden",c={muscles:"Muscles",bodyParts:"Body parts",equipment:"Equipment"},S=c.muscles,N={[c.muscles]:"muscles",[c.bodyParts]:"bodypart",[c.equipment]:"equipment"},r={filter:null,exercise:null,keyword:"",pagination:{filters:{currentPage:1,totalPages:1,limit:12},exercises:{currentPage:1,totalPages:1,limit:10}}},h=document.getElementById("breadcrumbs-nav"),R=h.querySelector(".item-home"),x=document.getElementById("breadcrumbs-filters"),u=document.querySelector(".exercises"),F=u.querySelector(".cards"),I=u.querySelector(".cards-exercises"),d=document.getElementById("search-field"),q=d.querySelector(".search-form"),L=d.querySelector(".search-input"),M=d.querySelector(".seach-submit"),T=d.querySelector(".seach-reset"),E=u.querySelector(".pagination"),k=()=>{window.innerWidth<768&&(r.pagination.filters.limit=9,r.pagination.exercises.limit=8)},m=(e=!1)=>{if(e){const t=u.querySelector(".loader");t&&t.remove()}else u.insertAdjacentHTML("beforeend",'<div class="loader"></div>')},v=(e=!1)=>{e?T.classList.add(l):T.classList.remove(l)},w=(e=!1,t=!1)=>{e?d.classList.add(l):d.classList.remove(l),t&&(L.value="")},H=()=>{F.innerHTML="",I.innerHTML=""},W=()=>{const e=h.querySelector(".item-exercise");e.removeAttribute("title"),e.classList.remove("active"),e.innerText=""},_=e=>{const t=h.querySelector(".item-exercise");t.setAttribute("title",e),t.classList.add("active"),t.innerText=e},g=async(e,t,s="")=>{try{H(),m(),_(t);const{limit:a,currentPage:i}=r.pagination.exercises,n={[N[e]]:t,keyword:s,limit:a,page:i},b=await C.getExercises(n),{results:f,totalPages:o,perPage:Y}=b;if(r.exercise=t,r.keyword=s,f.length===0){y("Sorry, there are no matching your request. Please try again!");return}r.pagination.exercises.totalPages=parseInt(o),r.pagination.exercises.currentPage=i+1,r.pagination.exercises.limit=parseInt(Y),Q(f,I),B(E,o,i),i>o&&y("We're sorry, but you've reached the end of results.")}catch(a){console.error(a)}finally{m(!0),w()}},p=async e=>{try{H(),W(),m(),w(!0,!0);const{limit:t,currentPage:s}=r.pagination.filters,a=await C.getFilters({filter:e,limit:t,page:s}),{results:i,totalPages:n,perPage:b}=a;if(r.filter=e,r.exercise=null,i.length===0){y("Sorry, there are no matching your request. Please try again!");return}r.pagination.filters.totalPages=parseInt(n),r.pagination.filters.currentPage=s+1,r.pagination.filters.limit=parseInt(b),K(i,F),B(E,n,s),s>n&&y("We're sorry, but you've reached the end of results.");const f=x.querySelectorAll(".item");for(let o of f)o.innerText===e?o.classList.add("active"):o.classList.remove("active")}catch(t){console.error(t)}finally{m(!0)}},j=e=>{if(e.preventDefault(),!(e.target.className&&e.target.className.includes("filter-link")))return;const s=e.target.innerText.trim();p(s)};x.addEventListener("click",j);const O=e=>{e.preventDefault();const{filter:t}=r,s=D(e.target,".card-item");if(s&&s.dataset&&s.dataset.exercise){const a=s.dataset.exercise.trim();g(t,a)}};F.addEventListener("click",O);const A=e=>{e.preventDefault();const{filter:t,exercise:s}=r,a=L.value.trim();a&&g(t,s,a)},z=()=>{v(!0);const{filter:e,exercise:t}=r;g(e,t)};M.addEventListener("click",A),q.addEventListener("submit",A),q.addEventListener("reset",z);const G=e=>{e.target.value.trim()?v():v(!0)};L.addEventListener("input",G);const U=e=>{e.preventDefault();const t=D(e.target,".list-item");if(t&&t.dataset.page){const{filter:s,exercise:a,keyword:i}=r,n=parseInt(t.dataset.page);a?(r.pagination.filters.currentPage=1,r.pagination.exercises.currentPage=n,g(s,a,i)):(r.pagination.exercises.currentPage=1,r.pagination.filters.currentPage=n,p(s))}};E.addEventListener("click",U),R.addEventListener("click",()=>{p(S)}),window.matchMedia("(max-width: 767px)").addEventListener("change",e=>{k()}),k(),J(Object.values(c),x),p(S)})();
//# sourceMappingURL=index.js.map
