import{A as q,r as W,a as O,b as V}from"./assets/main-De618tZh.js";import{i as f,g as u}from"./assets/vendor-CpjBsdJ0.js";const $=document.querySelector(".js-footer-form"),y=document.querySelector('input[type="email"]'),i=document.querySelector(".footer_form_btn");i.addEventListener("click",G);function I(s){return/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(s)}i.disabled=!0;y.addEventListener("input",()=>{const s=y.value;I(s)?(i.classList.add("active"),i.disabled=!1):(i.classList.remove("active"),i.disabled=!0)});y.addEventListener("blur",()=>{const s=y.value;I(s)?i.classList.add("active"):f.error({title:"Error",message:"Invalid email address was entered."})});function G(s){s.preventDefault();const r=y.value;if(!I(r)){console.log("tyta"),f.error({title:"Error",message:"Invalid email address was entered."});return}const l={email:r};q.addSubscription(l).then(c=>{const a=c.data.message;f.success({title:"Success",message:a})}).catch(c=>{const a=c.response.data.message;c.response.status===409?f.warning({title:"Warning",message:"Subscription already exists"}):c.response.status===400&&f.warning({title:"Warning",message:a})}),$.reset()}const U=document.querySelectorAll(".footer_soc_item");U.forEach(s=>{const r=s.querySelector(".footer_soc_icon");s.addEventListener("mouseenter",()=>{u.to(s,{keyframes:{"0%":{rotation:-5},"25%":{rotation:5},"50%":{rotation:-5},"75%":{rotation:5},"100%":{rotation:0}},duration:.5,repeat:1}),u.to(r,{keyframes:{"0%":{x:-3},"25%":{x:3},"50%":{x:-3},"75%":{x:3},"100%":{x:0}},duration:.2,repeat:3})}),s.addEventListener("mouseleave",()=>{u.to(s,{rotation:0,duration:.2}),u.to(r,{x:0,duration:.2})})});const X={root:null,rootMargin:"0px",threshold:0},H=document.querySelector(".footer_logo_icon"),J=document.querySelector(".footer_title_span"),K=new IntersectionObserver(Q,X);K.observe(H);function Q(s,r){s.forEach(l=>{l.isIntersecting&&(u.to(H,{duration:2,opacity:1,x:0,rotationX:360}),u.to(J,{duration:2,opacity:1}))})}(()=>{const s="hidden",r={muscles:"Muscles",bodyParts:"Body parts",equipment:"Equipment"},l=r.muscles,c={[r.muscles]:"muscles",[r.bodyParts]:"bodypart",[r.equipment]:"equipment"},a={filter:null,exercise:null},b=document.getElementById("breadcrumbs-nav"),k=b.querySelector(".item-home"),E=document.getElementById("breadcrumbs-filters"),v=document.querySelector(".exercises"),S=v.querySelector(".cards"),_=v.querySelector(".cards-exercises"),d=document.getElementById("search-field"),F=d.querySelector(".search-form"),L=d.querySelector(".search-input"),z=d.querySelector(".seach-submit"),T=d.querySelector(".seach-reset"),p=(e=!1)=>{if(e){const t=v.querySelector(".loader");t&&t.remove()}else v.insertAdjacentHTML("beforeend",'<div class="loader"></div>')},g=(e=!1)=>{e?T.classList.add(s):T.classList.remove(s)},A=(e=!1,t=!1)=>{e?d.classList.add(s):d.classList.remove(s),t&&(L.value="")},w=()=>{S.innerHTML="",_.innerHTML=""},D=()=>{const e=b.querySelector(".item-exercise");e.removeAttribute("title"),e.classList.remove("active"),e.innerText=""},R=e=>{const t=b.querySelector(".item-exercise");t.setAttribute("title",e),t.classList.add("active"),t.innerText=e},h=async(e,t,o="")=>{try{w(),p(),R(t);const n={[c[e]]:t,keyword:o},m=await q.getExercises(n),{results:N}=m;a.exercise=t,V(N,_)}catch(n){console.error(n)}finally{p(!0),A()}},x=async e=>{try{w(),D(),p(),A(!0,!0);const t=await q.getFilters({filter:e}),{results:o}=t;a.filter=e,O(o,S);const n=E.querySelectorAll(".item");for(let m of n)m.innerText===e?m.classList.add("active"):m.classList.remove("active")}catch(t){console.error(t)}finally{p(!0)}},C=e=>{if(e.preventDefault(),e.target.nodeName!=="A")return;const t=e.target.innerText.trim();x(t)};E.addEventListener("click",C);const M=e=>{e.preventDefault();const{filter:t}=a;if(e.target.nodeName!=="DIV")return;const o=e.target.dataset.category.trim();o&&h(t,o)};S.addEventListener("click",M);const B=e=>{e.preventDefault();const{filter:t,exercise:o}=a,n=L.value.trim();n&&h(t,o,n)},P=()=>{g(!0);const{filter:e,exercise:t}=a;h(e,t)};z.addEventListener("click",B),F.addEventListener("submit",B),F.addEventListener("reset",P);const j=e=>{e.target.value.trim()?g():g(!0)};L.addEventListener("input",j),k.addEventListener("click",()=>{x(l)}),W(Object.values(r),E),x(l)})();
//# sourceMappingURL=index.js.map
